<div class="header">Forest Fire Simulation – Dashboard</div>

<div class="main-container">

  <div class="controls">
    <h2>Parameters</h2>
    <p>Grid: {{colsNumber}} columns × {{rowsNumber}} rows</p>
    <p>Propagation Probability: {{propagationProbability}}</p>
    <p>Step: {{ stepCount }}</p>

    <div class="buttons">
      <button mat-raised-button color="primary" (click)="startSimulation()" [disabled]="isSimulationRunning">Run directly</button>
      <button mat-raised-button color="accent" (click)="startSimulationByStep()">Run by Step</button>
    </div>
  </div>

  <div class="forest-grid-wrapper">
    <mat-grid-list [cols]="colsNumber" rowHeight="1:1">
      
      <mat-grid-tile 
        *ngFor="let cellState of flattenedGrid; let i = index" 
         [ngClass]="{
          'tree': cellState === 'TREE',
          'fire': cellState === 'FIRE',
          'ash': cellState === 'ASH'
        }"
        (click)="!isStarted && onCellClick(i)">
      </mat-grid-tile>

    </mat-grid-list>
  </div>

</div>

<p *ngIf="!isStarted">You can select other starting cells by clicking on them</p>

<div class="settings-card">
  <h3>Modify Parameters</h3>
  <div class="settings-grid">
    <div class="setting-item">
      <label for="propagation">Propagation Probability:</label>
      <input id="propagation" 
             type="number" 
             step="0.01" 
             min="0" 
             max="1" 
             pInputText 
             [(ngModel)]="updatedPropagationProbability" />
    </div>

    <div class="setting-item">
      <label for="cols">Number of Columns:</label>
      <input id="cols" type="number" pInputText [(ngModel)]="updatedColsNumber" />
    </div>

    <div class="setting-item">
      <label for="rows">Number of Rows:</label>
      <input id="rows" type="number" pInputText [(ngModel)]="updatedRowsNumber" />
    </div>
  </div>

  <button mat-raised-button color="primary" type="button" (click)="applyChanges()">
    Apply Changes
  </button>
</div>
